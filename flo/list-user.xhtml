<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">

<h:head></h:head>

<f:view>
<h:body>
	<c:if test="#{appUserSession.getConnectedUser().getRole()}">
		<h1>Liste des utilisateurs</h1>
		
		<h:form >
		
			<h:dataTable value="#{appUserService.listUsers()}" var="user" >
			
				<h:column>    				
					<f:facet name="header">PrÃ©nom</f:facet>    				
					<h:outputText value="#{user.firstname}"/> 
				</h:column>
				
				<h:column>
					<f:facet name="header">Nom</f:facet>
					<h:outputText value="#{user.lastname}"/> 
				</h:column>
				
				<h:column>
					<f:facet name="header">E-mail</f:facet>
					<h:outputText value="#{user.email}"/>
				</h:column>
				
				<h:column>
					<h:commandLink action="#{appUserController.delete(user.id)}" value="delete"/>
				</h:column>
				
			</h:dataTable>
		
		</h:form>
		<h:outputLink value="list-album.xhtml">
					<p:outputLabel>Retour</p:outputLabel>
				</h:outputLink>
		<br/>
	</c:if>
</h:body>
</f:view>

</html>